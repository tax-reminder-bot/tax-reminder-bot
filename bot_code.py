import os
import telebot
import datetime

# –¢–æ–∫–µ–Ω —Ç–≤–æ–≥–æ Telegram-–±–æ—Ç–∞
TOKEN = '7660525712:AAF7gNF_ybwQ8wh6dY-K8vxjtr0RbnQT57c'

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–æ—Ç–∞
bot = telebot.TeleBot(TOKEN)

# ID —Ç–≤–æ–≥–æ —á–∞—Ç—É (–º–∞—î –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Environment Variable)
CHAT_ID = os.getenv("CHAT_ID")

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
def generate_message():
    month_name = datetime.datetime.now().strftime("%B")
    message = f"""üîî –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –ø–æ–¥–∞—Ç–∫–∏ –Ω–∞ {month_name} 2025 —Ä–æ–∫—É:

–ó–∞ –§–û–ü 2 –≥—Ä—É–ø–∏:
‚Ä¢ –Ñ–¥–∏–Ω–∏–π –ø–æ–¥–∞—Ç–æ–∫: 1 820 –≥—Ä–Ω
‚Ä¢ –Ñ–°–í: 2 002 –≥—Ä–Ω
‚Ä¢ –í—ñ–π—Å—å–∫–æ–≤–∏–π –∑–±—ñ—Ä: (—Å–ø–ª–∞—á—É—î—Ç—å—Å—è –∞–≤–∞–Ω—Å–æ–º –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª)

–ó–∞ 1 –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞:
‚Ä¢ –ü–î–§–û: 1 638 –≥—Ä–Ω
‚Ä¢ –í–ó: 137 –≥—Ä–Ω
‚Ä¢ –Ñ–°–í: 2 002 –≥—Ä–Ω

–†–∞–∑–æ–º –∑–∞ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞: 11 102 –≥—Ä–Ω

üïê –¢–µ—Ä–º—ñ–Ω —Å–ø–ª–∞—Ç–∏: –¥–æ 20 —á–∏—Å–ª–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è!"""
    return message

# –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è
if __name__ == "__main__":
    today = datetime.datetime.now()
    if CHAT_ID:
        if today.day == 18:
            bot.send_message(CHAT_ID, generate_message())
        else:
            print(f"–°—å–æ–≥–æ–¥–Ω—ñ {today.day}-—Ç–µ —á–∏—Å–ª–æ. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è.")
    else:
        print("CHAT_ID –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π.")